# 程序的初始化和执行

## 零值

声明变量/new()/创建新值/创建复合字面量/make()，即使没有显示提供初始化，
这些变量或值都会有个默认值。零值。

变量和值皆有其零值：

- false：bool
- 0：数值类型
- ""：string
- nil：指针/func/interface/slice/channel/map

这些初始化是递归完成的，所以数组/结构体中，如果没有明确指明值，就会有一个默认值。

    // 下面的声明是等价的
    var i int
    var i int = 0

特别说明:就算是结构体, 直接声明,里面的值如果没有特别指定,都是零值.

## 包初始化

在包内部，包级别的变量会逐步初始化，
每个步骤都按声明顺序选择最早的变量，前提是这个变量没有依赖和没有初始化。

如何确定一个变量是否准备好初始化：先看有没有初始化表达式(有就先做表达式)，
再看有没有依赖的其他变量还未初始化(有就初始化其他变量先)。

一步步，直到所有的包级别的变量全都初始化完。

这个初始化的循环会走多次(因为是递归), 所有变量初始化完之前，程序是无效的。

空白标识符也被认为是一个变量。

多个文件的变量，她们的声明顺序，取决于编译器处理顺序。

依赖分析并不取决于实际的变量值，而是源码中引用的文字

包中可以用init()函数来初始化变量

一个包可以有多个init(),极端点，一个源码文件都可以有多个init()

如有有导入其他包，那么其他包先初始化，之后再初始化本包。

一个包，不管是变量初始化还是init()初始化，都是在一个协程中，按顺序执行的。

## 程序执行

完成的程序会有一个main包，她导入其他包，还有一个main(),

程序的执行是先初始化main包，然后调用main()

main()并不会等待其他非主协程完成再退出。
