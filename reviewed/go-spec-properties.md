# type/value 的属性

## 类型识别

两个类型要么相同要么不一样

如何识别两个类型是一样的：

- 两数组类型相同：表示元素类型和长度都一样
- 两切片类型相同：表示元素类型一样
- 两结构体类型相同：表示字段顺序相同，字段的名字/类型/tag都相同
- 两指针类型相同：表示基础类型相同
- 两函数类型相同：表示参数/返回值的顺序/类型一致(名字没要求)，可变参情况一致
- 两接口类型相同：表示方法集相同(包括里面的函数名和函数类型相同)，顺序无所谓
- 两map类型相同：表示key和value的类型相同
- 两信道类型相同：表示元素类型和方向相同

## 识别赋值

var a T = b; 将b赋值给类型为T的变量a，是一个赋值语句，
Go中非常常见的基础语句，但，里面有很多约束，赋值要满足以下条件之一才行：

- b的类型是T
- b的类型是V，V和T的底层类型是相同的(识别相同看上面的)，
VT至少有一个不是自定义类型(也就是说，至少一个是内置类型或类型别名)
- T是接口，b的类型实现了T
- b是双向信道，T是信道类型，b的类型是V,
VT她们的元素类型相同，且VT至少有一个不是自定义类型
- b是nil，T是指针/函数/slice/map/channel/interface类型
- b是无类型的常量，值可以转换成类型T

## 识别常量如何转换成指定类型

满足以下条件之一即可：

- 类型T决定了一系列值的集合，b在这个集合中即可。eg：var i int = 0
- T是浮点类型，只要b可以转换之后进度没有丢失即可
- T是复数类型，b正好可以将实数和虚数转换成T指定的类型
